<h1>Reports</h1>

<% if @error %>
  <%= @error %>
<% else %>

  <h2>Data scoped by: --</h2>

  <% if @filter  == 'site' %>
    <h3>Filtered by Site: <%= @filtered.name %></h3>
  <% elsif @filter  == 'network' %>
    <h3>Filtered by Network: <%= @filtered.name %></h3>
  <% else %>
    <h3>Filter not network or site.</h3>
  <% end %>

  <h3>Evidence Data Options:</h3>
  <ul id="evidence-options-list">
    <button><li id="option-evidence-submissions" submission-type="evidence-submissions">Evidence Submissions (Submission by anyone)</li></button><br>
    <button><li id="option-educator-evidence-submissions" submission-type="educator-evidence-submissions">Educator Evidence Submissions (Submission by an Educator)</li></button><br>
    <button><li id="option-educator-only-evidence-submissions" submission-type="educator-only-evidence-submissions">Educator Only Evidence Submissions (Submission by an Educator, no Student collaborators)</li></button><br>
    <button><li id="option-student-evidence-submissions" submission-type="student-evidence-submissions">Student Evidence Submissions (Submission by a student)</li></button><br>
    <button><li id="option-student-associated-evidence-submissions" submission-type="student-associated-evidence-submissions">Student Associated Evidence Submissions (Submission (by a student) or (by an educator with at least one student collaborator))</li></button><br>
    <button><li id="option-saved-evidence" submission-type="saved-evidence">Saved Evidence (Any saved evidence)</li></button><br>
    <button><li id="option-total-learning-units" submission-type="total-learning-units">Total Learning Units (Total Evidence submissions + total collaborators)</li></button><br>
    <button><li id="option-student-learning-units" submission-type="student-learning-units">Student Learning Units (Total Student Evidence submissions + total Student collaborators)</li></button><br>
    <button><li id="option-educator-learning-units" submission-type="educator-learning-units">Educator Learning Units (Total Educator Submissions + total Educator collaborators)</li></button><br>

  </ul>

  <h2 id="submission-type-display"></h2>
  <table>
    <tr>
      <th>Site Name</th>
      <th>Site ID</th>
      <% for project in @project_titles %>
        <th colspan="1">
          <%= project[1][0] %>
        </th>
      <% end %>
    </tr>
    <tr>
      <th></th>
      <th></th>
      <% for project in @project_titles %>
        <th colspan="1">
          <%= project[1][1] %>
        </th>
      <% end %>
    </tr>
    <% @data.each_with_index do |(id, projects), index| %>
      <tr>
        <td><%= @scope_names[id] %></td>
        <td><strong><%= id %></strong></td>
        <% projects.each do |project| %>
          <td class="evidence-data" title="Placeholder"></td>
          <td class="evidence-data hide evidence-submissions" title="Evidence Submissions"><%= project[1]["Evidence Submissions"] %></td>
          <td class="evidence-data hide educator-evidence-submissions" title="Educator Evidence Submissions"><%= project[1]["Educator Evidence Submissions"] %></td>
          <td class="evidence-data hide educator-only-evidence-submissions" title="Educator Only Evidence Submissions"><%= project[1]["Educator Only Evidence Submissions"] %></td>
          <td class="evidence-data hide student-evidence-submissions" title="Student Evidence Submissions"><%= project[1]["Student Evidence Submissions"] %></td>
          <td class="evidence-data hide student-associated-evidence-submissions" title="Student Associated Evidence Submissions"><%= project[1]["Student Associated Evidence Submissions"] %></td>
          <td class="evidence-data hide saved-evidence" title="Saved Evidence"><%= project[1]["Saved Evidence"] %></td>
          <td class="evidence-data hide total-learning-units" title="Total Learning Units"><%= project[1]["Total Learning Units"] %></td>
          <td class="evidence-data hide student-learning-units" title="Student Learning Units"><%= project[1]["Student Learning Units"] %></td>
          <td class="evidence-data hide educator-learning-units" title="Educator Learning Units"><%= project[1]["Educator Learning Units"] %></td>
        <% end %>
      </tr>
    <% end %>

  </table>

<% end %>
